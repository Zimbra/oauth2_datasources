In order to use Yahoo Contacts

1) Deploy this extension to /opt/zimbra/lib/ext/oauth2_datasources and restart mailboxd 
2) set up the following localconfig keys:
 - zm_oauth_yahoo_client_secret (set to your OAuth2 client secret)
 - zm_oauth_yahoo_client_id (set to your OAuth2 client ID)
 - zm_oauth_yahoo_authenticate_uri (set to "https://api.login.yahoo.com/oauth2/get_token" unless Yahoo changes this URL)
 - zm_oauth_yahoo_contacts_uri_template (set to "https://social.yahooapis.com/v1/user/%s/contacts?format=%s&count=%d" unless Yahoo changes the REST API for contacts)
 3) Create a datasource with type "oauth"
 e.g. via zmprov:


zmprov cds user1@zcs-dev.test oauth myadress@yahoo.com zimbraDataSourceEnabled TRUE zimbraDataSourceFolderId 7 zimbraDataSourceImportClassName com.synacor.zimbra.YahooContactsImport

 4) obtain an oauth2 refresh token from Yahoo API and assign it to the datasource:

e.g. via zmprov:
zmprov mds user1@zcs-dev.test myadress@yahoo.com zimbraDataSourceOAuthRefreshToken "AAwee1nfwk3VsVdNHR.l0_jzuXvPNiAt0DBOcRm9w9zq0dbA"

Running SOAP tests
SOAP tests included in this package require the following additional localconfig settings:
 - zm_yahoo_test_account (to be set to yahoo ID, such as yourname@yahoo.com which has already authorized OAuth2 access to the application identified by zm_oauth_yahoo_client_secret) 
 - zm_yahoo_test_refresh_token (OAuth2 refresh token obtained from Yahoo API)